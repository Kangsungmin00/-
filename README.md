## 원인물질별 식중독 발생 확률 예측

---

### 프로젝트 개요 및 역할

본 프로젝트의 목표는 **식중독 발생 확률을 예측하는 모델을 구축**하여, 시민들과 정부 부처가 식중독을 사전에 예방할 수 있도록 지원하는 것입니다. 프로젝트는 총 **5인의 팀원**이 **40일간 진행**했으며, 필자는 데이터 분석 및 모델링을 담당하며 다음과 같은 주요 역할을 수행했습니다:

1. **데이터 수집 및 전처리**  
   - 식품의약품안전처 Open API를 활용하여 **2002~2022년 식중독 데이터**를 수집하였고, 결측치 처리 및 데이터 병합을 수행했습니다.  
   - 추가적으로 기후 데이터(온도, 습도 등), 인구 밀도, 지역 축제 정보를 결합하여 약 **50,000건 이상의 데이터 포인트**를 확보했습니다.

2. **가설 설정**  
   - "기후, 지역 축제, 사회 인프라가 식중독 발생에 영향을 미친다"는 가설을 설정하고 이를 검증하기 위한 추가 데이터를 수집했습니다.

3. **모델링 및 성과 평가**  
   - 다양한 분류 모델(Random Forest, LightGBM, XGBoost)을 비교하며 성능을 평가하였고, **Random Forest 모델을 통해 70%대 중후반의 성능**을 기록했습니다.  
   - Recall(재현율)을 우선시하여 **식중독 발생 여부를 놓치지 않는** 예측 모델을 구현했습니다.
   - **Prophet 시계열 모델**을 활용하여 2023년 식중독 발생 확률을 사전 예측했습니다.

결과적으로, **식중독 발생 위험을 예측할 수 있는 모델을 구축**하였으며, 맞춤형 예방 대책의 필요성을 제기했습니다.

---

### 배경

**식중독(food poisoning)** 이란 식품의 섭취로 인해 유해한 미생물이나 유독 물질이 인체에 해를 끼쳐 발생하는 질환으로, 구토, 설사, 발열 등의 증상을 유발합니다. 특히 면역력이 약한 어린이, 노인, 임산부에게는 치명적일 수 있습니다.  

2022년 기준, 식품의약품안전처에 따르면 **2016~2018년 식중독으로 인한 연간 손실비용은 약 1조 8,532억 원**으로, 사회적 비용 절감의 필요성이 매우 높습니다. 이에 본 프로젝트는 식중독 발생 확률을 예측하여 시민과 정부가 사전 예방 조치를 취할 수 있는 기반을 마련하고자 했습니다.

---

### 데이터 준비

#### 데이터 수집
- **주요 데이터**: 식품의약품안전처 Open API의 식중독 현황 데이터를 사용했습니다.
- 데이터 전처리 과정에서 **원인 불명** 및 발생 비율이 낮은(1% 미만) 원인물질을 제외하고, 주요 9가지 원인물질에 집중했습니다.

#### 추가 변수 수집
가설 검증을 위해 다양한 외부 데이터를 추가로 수집하였습니다:

| 요인              | 가설                                                     | 관련 데이터                           |
|-------------------|---------------------------------------------------------|---------------------------------------|
| **기후 조건**      | 고온다습할수록 박테리아성 식중독 발생률이 증가할 것이다. | 기후 데이터(온도, 습도, 해면 기압 등) |
| **인구 밀도**      | 인구 밀도가 높을수록 식중독 발생률이 증가할 것이다.      | 인구수, 집단급식소 데이터             |
| **이벤트 영향**    | 지역 축제 등 이벤트가 많을수록 식중독 발생률이 증가할 것이다. | 지역 축제, 황금연휴 데이터            |
| **사회 인프라**    | 사회 인프라가 부족할수록 식중독 발생률이 증가할 것이다.  | 소비자물가지수(CPI) 데이터            |

#### 데이터 전처리 및 통합
- 총 **20년(2002~2022년)간의 데이터**를 사용했으며, 데이터의 불균형 문제를 해결하기 위해 **Random Oversampling**과 같은 기법을 적용했습니다.
- 세종특별자치시 데이터는 인근 지역(충청북도)의 데이터를 선형회귀 모델로 보완하였습니다.

---

### 데이터 분포 및 기본 특성

#### 원인물질별 분포
- 원인물질별로는 **노로바이러스**가 겨울철에 정점을 찍는 반면, **병원성 대장균, 살모넬라**는 여름철에 최다 발생률을 보이는 계절성을 나타냈습니다.

#### 연도별 발생 추세
- 2018년 "초코케이크 사건"으로 인해 약 **2,200명의 대규모 환자**가 발생했으며, 2020년 COVID-19로 인한 위생관리 강화로 환자 수가 **36.88% 감소**했습니다.

---

### 모델링 및 성과

#### 분류 예측 모델링 워크플로우
1. PyCaret을 활용하여 다양한 분류 모델(Random Forest, Gradient Boosting, XGBoost 등)의 초기 성능을 평가했습니다.
2. Recall(재현율)을 우선시하여 모델 성능을 최적화했습니다.

#### 주요 성과
- **Random Forest 분류모형**: Accuracy 78%, Recall 71%를 기록하며 양호한 성능을 보였습니다.
- **Prophet 시계열 모델**을 통해 2023년 식중독 발생 확률을 사전 예측했습니다.
- 예측 모델의 **ROC Curve AUC**: 0.74  
- 데이터 불균형과 Open API 데이터의 n 수 제한에도 불구하고 준수한 성과를 거두었습니다.

---

### 인사이트 및 향후 방향

#### 주요 인사이트
- **계절성 패턴**: 여름철과 겨울철에 원인물질별 발생 양상이 뚜렷이 구분되어 계절에 따른 차별화된 관리 전략이 요구됩니다.
- **지역별 예측**: 특정 지역(부산, 경남)에서 **병원성 대장균과 황색포도상구균**의 발생 확률이 높아, 이들 지역에 맞춤형 예방 대책이 필요합니다.

#### 향후 계획
- 통합된 데이터셋을 구축하여 원인물질, 발생 시설 정보를 결합한 **정교한 일별 예측 모델** 개발.
- 특정 환경 조건에서 발생 확률이 높은 원인물질에 대해 **맞춤형 예방 전략**을 제시.
- 정부와 협력하여 실시간 데이터 수집 체계를 개선하고 **정확도를 높이는 데이터 기반 정책**을 지원.

본 프로젝트는 식중독 예방 및 대응에 있어 데이터 기반 의사결정의 중요성을 강조하며, 향후 공공 데이터 활용 가능성을 제시하였다는데에 의의가 있습니다.

---
